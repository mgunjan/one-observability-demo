apiVersion: v1
kind: ConfigMap
metadata:
  name: devops-agent-config
  namespace: devops-agent
data:
  config.yaml: |
    agent:
      name: "EKS DevOps Agent"
      cluster_name: "${EKS_CLUSTER_NAME}"
      region: "${AWS_REGION}"
    
    event_processor:
      poll_interval: 5
      max_concurrent_events: 3
    
    integrations:
      cloudwatch:
        enabled: true
        container_insights: true
      
      kubernetes:
        enabled: true
        in_cluster: true
      
      xray:
        enabled: true
      
      prometheus_mcp:
        enabled: true
        url: "http://prometheus-mcp-server.devops-agent.svc.cluster.local:8080"
      
      slack:
        enabled: true
        channel: "${SLACK_CHANNEL}"
    
    workflows:
      memory_leak_investigation:
        enabled: true
        auto_remediate: false
      
      high_cpu_investigation:
        enabled: true
        auto_remediate: false
      
      high_latency_investigation:
        enabled: true
        auto_remediate: false
      
      node_pressure_investigation:
        enabled: true
        auto_remediate: false
      
      pod_crash_investigation:
        enabled: true
        auto_remediate: false
    
    thresholds:
      memory:
        warning: 80
        critical: 90
      
      cpu:
        warning: 70
        critical: 85
      
      latency:
        warning_ms: 1000
        critical_ms: 3000
